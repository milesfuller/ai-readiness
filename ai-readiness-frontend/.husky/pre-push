#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🛡️ VALIDATION SYSTEM: Running pre-push validation"

# Run comprehensive validation
echo "🔍 Running comprehensive validation suite..."

# Full validation
if ! npm run validate:all; then
  echo "❌ Comprehensive validation failed"
  exit 1
fi

# Run critical tests
echo "🧪 Running critical tests..."
if ! npm run test:ci; then
  echo "❌ Critical tests failed"
  exit 1
fi

# Build check
echo "🏗️ Running build check..."
if ! npm run build; then
  echo "❌ Build failed"
  exit 1
fi

echo "🎉 All pre-push validations passed! Push proceeding..."