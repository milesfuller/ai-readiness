#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ›¡ï¸ VALIDATION SYSTEM: Running pre-push validation"

# Run comprehensive validation
echo "ğŸ” Running comprehensive validation suite..."

# Full validation
if ! npm run validate:all; then
  echo "âŒ Comprehensive validation failed"
  exit 1
fi

# Run critical tests
echo "ğŸ§ª Running critical tests..."
if ! npm run test:ci; then
  echo "âŒ Critical tests failed"
  exit 1
fi

# Build check
echo "ğŸ—ï¸ Running build check..."
if ! npm run build; then
  echo "âŒ Build failed"
  exit 1
fi

echo "ğŸ‰ All pre-push validations passed! Push proceeding..."