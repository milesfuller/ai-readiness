# =============================================================================
# Test Environment Configuration Example
# =============================================================================
# ‚ö†Ô∏è  CRITICAL: This file shows the structure for test environment variables
# üîê Copy to .env.test and update with your test-specific values
# üö´ NEVER use production credentials in testing

# =============================================================================
# ENVIRONMENT IDENTIFICATION
# =============================================================================
NODE_ENV=test
ENVIRONMENT=test

# =============================================================================
# TEST DATABASE CONFIGURATION (ISOLATED)
# =============================================================================
# ‚ö†Ô∏è  CRITICAL: Use a separate Supabase project for testing
# üîí Test database should be completely isolated from production
NEXT_PUBLIC_SUPABASE_URL=https://your-test-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_test_anon_key
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_test_service_role_key

# =============================================================================
# SECURITY CONFIGURATION (TEST-SPECIFIC)
# =============================================================================
# üîê Generate unique secrets for testing (minimum 32 characters)
# Use: openssl rand -hex 32
CSRF_SECRET=generate_32_char_test_csrf_secret_here
SESSION_SECRET=generate_32_char_test_session_secret_here
DATABASE_ENCRYPTION_KEY=generate_32_char_test_encryption_key_here

# =============================================================================
# APPLICATION URLS (TEST)
# =============================================================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# LLM API KEYS (TEST-SPECIFIC)
# =============================================================================
# ‚ö†Ô∏è  CRITICAL: Use separate API keys for testing with lower quotas
# üîí Never use production API keys in tests
# üí∞ Consider using mock services to avoid API costs

# OpenAI Test Configuration
OPENAI_API_KEY=sk-test-your-openai-test-key-here
OPENAI_ORG_ID=org-your-test-org-id

# Anthropic Test Configuration  
ANTHROPIC_API_KEY=sk-ant-test-your-anthropic-test-key-here

# Google AI Test Configuration
GOOGLE_AI_API_KEY=your-google-ai-test-key-here

# =============================================================================
# RATE LIMITING (PERMISSIVE FOR TESTING)
# =============================================================================
# üöÄ More permissive limits for automated testing
API_RATE_LIMIT_MAX=1000
API_RATE_LIMIT_WINDOW=900000
AUTH_RATE_LIMIT_MAX=100
AUTH_RATE_LIMIT_WINDOW=900000
LLM_RATE_LIMIT_MAX=500
LLM_RATE_LIMIT_WINDOW=3600000
PASSWORD_RESET_LIMIT_MAX=50
FILE_UPLOAD_LIMIT_MAX=100

# =============================================================================
# FILE UPLOAD CONFIGURATION (TEST)
# =============================================================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,text/csv,application/pdf,text/plain
UPLOAD_DIR=./test-uploads
QUARANTINE_DIR=./test-quarantine

# =============================================================================
# SECURITY SETTINGS (TEST-APPROPRIATE)
# =============================================================================
# üîß Balanced security for effective testing
ENABLE_HSTS=false
ENABLE_CSP=true
CSP_REPORT_ONLY=true
ENABLE_IP_BLOCKING=false
ENABLE_SECURITY_MONITORING=true
ENABLE_AUDIT_LOGGING=true

# Security Monitoring Configuration
MAX_FAILED_ATTEMPTS=20
BLOCK_DURATION_MINUTES=5
ENABLE_VERBOSE_SECURITY_LOGS=true

# =============================================================================
# REDIS CONFIGURATION (TEST)
# =============================================================================
# üîß Optional Redis for test caching/rate limiting
REDIS_URL=redis://localhost:6379/1
REDIS_PREFIX=test:ai-readiness:

# =============================================================================
# WEBHOOK AND MONITORING (TEST)
# =============================================================================
# üîó Test webhook endpoints for security alerts
SECURITY_WEBHOOK_URL=http://localhost:3001/test-webhook
SECURITY_LOGGING_ENDPOINT=http://localhost:3001/test-logs
SECURITY_LOGGING_TOKEN=test-logging-token-here
ALERT_EMAIL=test-security@example.com

# =============================================================================
# PERFORMANCE AND FEATURE FLAGS (TEST)
# =============================================================================
# üöÄ Optimized for test performance
DISABLE_ANALYTICS=true
DISABLE_TELEMETRY=true
SKIP_ENV_VALIDATION=false
ENABLE_DEBUG_MODE=true
ENABLE_VERBOSE_LOGGING=true

# External API Mocking
MOCK_EXTERNAL_APIS=false
MOCK_LLM_RESPONSES=false
MOCK_EMAIL_SERVICE=true
MOCK_FILE_UPLOADS=false

# =============================================================================
# TEST-SPECIFIC USER ACCOUNTS
# =============================================================================
# üë§ Predefined test user accounts for automated testing
TEST_USER_EMAIL=testuser@example.com
TEST_USER_PASSWORD=TestPassword123!
TEST_ADMIN_EMAIL=testadmin@example.com
TEST_ADMIN_PASSWORD=AdminPassword123!

# =============================================================================
# DATABASE CONNECTION SETTINGS (TEST)
# =============================================================================
# üîß Optimized for test performance
DB_POOL_MIN=1
DB_POOL_MAX=5
DB_IDLE_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=5000

# =============================================================================
# API TIMEOUT SETTINGS (TEST)
# =============================================================================
# ‚è±Ô∏è  Shorter timeouts for faster test execution
API_TIMEOUT_MS=5000
LLM_TIMEOUT_MS=30000
SUPABASE_TIMEOUT_MS=10000
WEBHOOK_TIMEOUT_MS=3000

# =============================================================================
# CACHING CONFIGURATION (TEST)
# =============================================================================
# üóÑÔ∏è  Short-lived cache for testing
CACHE_TTL_SECONDS=60
DISABLE_CACHE=false
CACHE_PREFIX=test:

# =============================================================================
# COMPLIANCE AND AUDIT (TEST)
# =============================================================================
# üìä Enable for compliance testing
AUDIT_LOGGING=true
PII_DETECTION=true
DATA_RETENTION_DAYS=7
COMPLIANCE_MODE=test

# =============================================================================
# TEST DATA MANAGEMENT
# =============================================================================
# üóÉÔ∏è  Test data lifecycle management
AUTO_CLEANUP_TEST_DATA=true
TEST_DATA_RETENTION_HOURS=24
RESET_DB_BETWEEN_TESTS=false

# =============================================================================
# CI/CD SPECIFIC SETTINGS
# =============================================================================
# ü§ñ Settings for continuous integration
CI_MODE=false
PARALLEL_TEST_WORKERS=4
TEST_RETRY_COUNT=2
FAIL_FAST=false
HEADLESS_BROWSER=true

# =============================================================================
# DEVELOPMENT TOOLS (TEST)
# =============================================================================
# üõ†Ô∏è  Development and debugging tools
ENABLE_TEST_ROUTES=true
ENABLE_SWAGGER_DOCS=true
ENABLE_GRAPHQL_PLAYGROUND=true
DEBUG_SQL_QUERIES=false

# =============================================================================
# EXTERNAL SERVICE CONFIGURATION (TEST)
# =============================================================================
# üåê Test endpoints for external services
STRIPE_TEST_PUBLISHABLE_KEY=pk_test_your_stripe_test_key
STRIPE_TEST_SECRET_KEY=sk_test_your_stripe_test_secret
STRIPE_TEST_WEBHOOK_SECRET=whsec_test_your_webhook_secret

# Email Service (Test)
EMAIL_SERVICE_URL=http://localhost:1025
EMAIL_SERVICE_API_KEY=test-email-api-key
FROM_EMAIL=noreply-test@example.com

# =============================================================================
# MONITORING AND OBSERVABILITY (TEST)
# =============================================================================
# üìà Test monitoring configuration
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000
LOG_LEVEL=debug

# Tracing Configuration
ENABLE_TRACING=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces
TRACE_SAMPLE_RATE=0.1

# =============================================================================
# SECURITY TESTING SPECIFIC
# =============================================================================
# üîê Additional settings for security testing
ENABLE_SECURITY_HEADERS=true
TEST_CSRF_PROTECTION=true
TEST_RATE_LIMITING=true
TEST_INPUT_VALIDATION=true
SIMULATE_ATTACKS=false

# Penetration Testing
PENTEST_MODE=false
ALLOW_DANGEROUS_OPERATIONS=false
BYPASS_SECURITY_FOR_TESTS=false

# =============================================================================
# LOAD TESTING CONFIGURATION
# =============================================================================
# ‚ö° Settings for performance testing
MAX_CONCURRENT_REQUESTS=100
LOAD_TEST_DURATION=300
RAMP_UP_TIME=60
THINK_TIME_MS=1000

# =============================================================================
# NOTES AND WARNINGS
# =============================================================================
# üìù Important reminders:
# 
# 1. ISOLATION: Ensure complete separation from production data
# 2. API KEYS: Use test-specific API keys with quotas
# 3. SECURITY: Enable security features appropriate for testing
# 4. PERFORMANCE: Configure for test execution speed
# 5. CLEANUP: Implement proper test data cleanup
# 6. MONITORING: Enable comprehensive logging for debugging
# 7. COMPLIANCE: Test compliance features where applicable
# 8. DOCUMENTATION: Keep this file updated with new variables

# =============================================================================
# SETUP VERIFICATION
# =============================================================================
# ‚úÖ After copying this file to .env.test, verify:
# - All placeholder values are replaced
# - File permissions are set to 600
# - Test database is separate from production
# - API keys are test-specific
# - Rate limits are appropriate for testing
# - Security settings balance protection and usability